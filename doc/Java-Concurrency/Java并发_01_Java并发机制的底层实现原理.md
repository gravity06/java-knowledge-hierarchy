[toc]









# 前言







# 一、volatile的底层实现原理

## 1. volatile 的特点

- volatile 保证了共享变量的“可见性”
- volatile 变量不会引起线程上下文的切换和调度

> 可见性：当一个线程修改一个共享变量时，另外一个线程能读到这个修改的值

如果一个字段被声明成 volatile，Java线程内存模型确保所有线程看到这个变量的值是一致的。



## 2.底层实现原理

对 volatile 变量进行写操作时，会被多编译出一个 locK 指令，

Lock前缀的指令在多核处理器下会引发了两件事情：

> 1）将当前处理器缓存行的数据写回到系统内存。
> 2）这个写回内存的操作会使在其他CPU里缓存了该内存地址的数据无效。







# 二、Syschronized的底层实现原理













